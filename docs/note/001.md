# AccountEvent を public (client-side へ公開) にする or しない

- 直感: public にしたことはないが、しても問題なさそう
- 既存の AccountEvent の構造は変更不可になる
- イベントへの属性の追加は Option なら可能？
  - できない。無視するとまずいものもありそう
- 古いバージョンで新しいバージョンのデバイスから追加されたイベントを解釈できない
  - バージョンとは？ ([002])
  - 古いバージョンから新しいバージョンにアップデートを必須にする
    - バージョンアップを強制させる機能が必要になる
    - 未知のイベントのエラーハンドリングでバージョンアップを促す必要がある
- client-side に処理を置くことで負荷を下げられる？
  - 下げられる。差分のイベントのみを送信すれば、更新の都度、イベントをすべて読んで……がなくなる
  - 差分のイベントのみを送信する場合、イベントが妥当かの検証はしない？
    - できない。すると上記メリットは失われる
    - 最低限、イベントストリームのバージョン (最後のイベント ID 等) を調べる程度のことはする
    - 壊れたとしても当該イベントストリームの利用者が困るだけではある
- 結論: AccountEvent を public にする方針で検討してみる

[002]: ./002.md
